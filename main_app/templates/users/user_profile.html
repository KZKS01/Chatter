{% extends 'base.html' %}

{% block title %}
<title>{{ user.username }}'s Profile</title>
{% endblock %}

{% block content %}
<main id="mainBase">
    <div class="card" id="postCard">
        <div id="grey-bg"></div>
        <div class="card-content">
            <!-- display avatar -->
            {% if user.userprofile.avatar %}
            <img src="{{ user.userprofile.avatar }}" class="rounded" id="avatar_file">
            {% endif %}
            <!-- display avatar -->
            {% if user.userprofile.avatar %}
            <img src="{{ user.userprofile.avatar }}" class="rounded" id="avatar_file">
            {% endif %}
            {% if request.user.is_authenticated and request.user == user %}
            <a id="editProfileBtn" href="{% url 'user_profile_edit' user_profile.id %}"><b>Edit Profile</b></a>
            {% endif %}
            <h5><b>{{ user.username }}</b></h5>
            <p id="userprofile-userid">@{{ user.id }}</p>
            {% if request.user.is_authenticated and request.user != user %}
            {% if request.user in user.userprofile.followers.all %}
            <a id="following-btn" href="{% url 'follow' user.id %}">Following</a>
            {% else %}
            <a id="follow-btn" href="{% url 'follow' user.id %}">Follow</a>
            {% endif %}
            {% endif %}

            <p>{{user.userprofile.bio}} </p>
            <p>Joined {{join_date}}</p>
            <p>{{ followers_num }} Following</p>
            <!-- add back btn -->
            <!-- add post count -->
        </div>
    </div>

</main>
{% endblock %}
