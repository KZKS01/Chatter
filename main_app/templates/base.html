{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    {% block title %}
    <title>Chatter</title>
    {% endblock %}
</head>

<body>
    <div class="row">
        <div class="col s12 m3 l3 xl3">
            <div id="nav-left" class="sidenav sidenav-fixed left-align">
                {% if user.is_authenticated %}
                <li class="bold">
                    <a id="navContent" href="{% url 'home' %}"><img id="home-icon"
                            src="https://k-chatter.s3.us-east-2.amazonaws.com/App+pics/home+icon.png" alt="home-icon"
                            width="30px" height="30px"> Home</a>
                    <a id="navContent" href="{% url 'user_profile' request.user.id %}"><img id="profile-icon"
                            src="https://k-chatter.s3.us-east-2.amazonaws.com/App+pics/profile+icon.png"
                            alt="pofile-icon" width="30px" height="30px">
                        Profile</a>
                    <a id="navContent" class="newPost" href="{% url 'post_compose' %}">Post</a>
                    <div class="user-block">
                        <div id="user-info">
                            <a id="logInUserBlock" href="{% url 'user_profile' request.user.id %}"><img
                                    class="user_avatar_nav" src="{{ request.user.userprofile.avatar }}">
                                <p id="username_id">
                                    <span>{{ request.user.username }}</span>
                                    <span>@{{ request.user.id }}</span>
                                </p>
                            </a>
                        </div>
                        <!-- Dropdown Trigger -->
                        <a class="dropdown-trigger" data-target="dropdown_logout"><b class="black-text text-darken-2"
                                id="nav_dropdown">⋯</b></a>
                    </div>
                </li>
                {% else %}
                <li class="bold">
                    <a id="navContent" href="{% url 'signup' %}">Sign up</a>
                </li>
                <li class="bold">
                    <a id="navContent" href="{% url 'login' %}">Sign in</a>
                </li>
                {% endif %}
                </ul>

                <!-- Dropdown Structure -->
                <ul id="dropdown_logout" class="dropdown-content">
                    <li>
                        <a id="nav_dropdown_content" href="{% url 'logout' %}">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="middle" class="col s12 m6 l6 xl6">
            {% block content %}
            {% endblock %}
        </div>

        <!-- SEARCH -->
        <div class="col s12 m3 l3 xl3">
            <div id="nav-right" class="sidenav sidenav-fixed right-align">
                <form method="GET" action="{% url 'search' %}" class="search-form">
                    <input type="text" class="black-text" placeholder="Search Chatter" name="searching" id="pill"
                        autocomplete="off">
                    <button type="submit" class="search_btn">
                        <p>→</p>
                    </button>
                </form>
            </div>
        </div>
        <script>
            $(document).ready(function () {
                $(".dropdown-trigger").dropdown({constrainWidth: false});
            });
        </script>
    </div>
</body>

</html>